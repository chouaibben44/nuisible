/* Root & container */
.gc-root { width: 100%; }
.gc-wrap { position: relative; padding-top: 12px; }
.gc-track { position: relative; overflow: visible; } /* allow arrows to hang outside */

/* Image tile (frame static; animation inside) */
.gc-tile {
  position: relative;
  width: 100%;
  border-radius: 18px;
  overflow: hidden;
  border: 0;
  background: transparent;
  cursor: zoom-in;
  box-shadow: none;
}
.gc-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: grayscale(0%);
  transform: scale(1) rotate(0);
  transform-origin: center;
  transition: filter .55s ease, transform .75s cubic-bezier(.19, 1, .22, 1);
}
.gc-tile:hover .gc-image,
.gc-tile:focus-visible .gc-image {
  filter: grayscale(100%);
  transform: scale(1.06) rotate(1.6deg);
}

/* Carousel arrows â€” half in / half out */
.gc-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 5;
  width: 44px; height: 44px;
  display: grid; place-items: center;
  border-radius: 999px;
  background: rgba(255,255,255,.92);
  color: #0f172a;
  box-shadow: 0 8px 24px rgba(0,0,0,.18), inset 0 0 0 1px rgba(0,0,0,.04);
  cursor: pointer;
  transition: transform .15s ease, box-shadow .15s ease, background .15s ease;
  backdrop-filter: saturate(1.2) blur(6px);
}
.gc-prev { left: -22px; }  /* 44px / 2 */
.gc-next { right: -22px; }
.gc-arrow:hover { transform: translateY(-50%) scale(1.05); }
.gc-arrow:active { transform: translateY(-50%) scale(0.98); }

/* Pagination BELOW (style default Swiper bullets) */
.gc-pagination{
  margin-top: 18px;
  display: flex;
  justify-content: center;
  gap: 8px;
  min-height: 14px;
  margin-bottom: 10px;
}
.swiper-pagination-bullet{
  width: 10px; height: 10px;
  border-radius: 999px;
  background: rgba(15,23,42,.18);
  transition: width .25s ease, background .25s ease, transform .25s ease;
  opacity: 1;
}
.swiper-pagination-bullet:hover { background: rgba(15,23,42,.35); }
.swiper-pagination-bullet-active{ width: 28px; background: #111827; }

/* ------------------ LIGHTBOX (mobile-first) ------------------ */
:root{
  --gc-lb-pad-x: clamp(12px, 5vw, 24px);
  --gc-lb-pad-y: clamp(8px, 4vh, 20px);
}

/* Fullscreen scrim */
.gc-lightbox{
  position: fixed; inset: 0; z-index: 9999;
  background:
    radial-gradient(1200px 600px at 50% 20%, rgba(255,255,255,.06), transparent 60%),
    rgba(8,10,20,.88);
  -webkit-backdrop-filter: blur(6px) saturate(1.1);
  backdrop-filter: blur(6px) saturate(1.1);
  display: grid; grid-template-rows: auto 1fr auto;
  height: 100vh;
}
@supports (height: 100dvh){
  .gc-lightbox{ height: 100dvh; }
}

/* Top bar (counter + close) with safe-area padding */
.gc-lb-topbar{
  display:flex; justify-content:space-between; align-items:center;
  padding: 12px calc(var(--gc-lb-pad-x) + env(safe-area-inset-right))
           8px  calc(var(--gc-lb-pad-x) + env(safe-area-inset-left));
  color:#e5e7eb; font-weight:600; z-index: 2;
}
.gc-lb-count{ opacity:.95; letter-spacing: .2px; }
.gc-lb-close{
  appearance:none; border:0; background:rgba(255,255,255,.12); color:#e5e7eb;
  border-radius:10px; width:36px; height:36px; display:grid; place-items:center; cursor:pointer;
  transition: background .15s ease, transform .15s ease;
}
.gc-lb-close:hover{ background: rgba(255,255,255,.18); transform: scale(1.04); }

/* Stage centers the image and keeps arrows inside padding */
.gc-lb-stage{
  position:relative;
  display:grid; place-items:center;
  padding: var(--gc-lb-pad-y) calc(var(--gc-lb-pad-x) + 48px); /* +48px for arrow buttons */
  z-index: 1;
  min-height: 0; /* allow child to shrink correctly */
}

/* The image fits within the dynamic viewport, never cropped (desktop/default) */
.gc-lb-image{
  display:block;
  width:auto; height:auto;
  max-width: calc(100vw - (var(--gc-lb-pad-x) + env(safe-area-inset-left) + var(--gc-lb-pad-x) + env(safe-area-inset-right)));
  /* Topbar (~56px) + caption (~60px) + vertical padding => leave room */
  max-height: calc(100dvh - 56px - 60px - (var(--gc-lb-pad-y) * 2));
  object-fit: contain;
  background:#0b0e17;
  border-radius:16px;
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
}
@supports not (height: 100dvh){
  .gc-lb-image{
    max-height: calc(100vh - 56px - 60px - (var(--gc-lb-pad-y) * 2));
  }
}

/* Lightbox nav arrows (always visible above image) */
.gc-lb-nav{
  position:absolute; top:50%; transform:translateY(-50%);
  border:0; width:46px; height:46px; border-radius:999px; display:grid; place-items:center;
  background: rgba(255,255,255,.16); color:#eef2ff; cursor:pointer;
  -webkit-backdrop-filter: blur(6px);
  backdrop-filter: blur(6px);
  box-shadow: 0 10px 28px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.1);
  transition: transform .15s ease, background .15s ease;
  z-index: 3;
}
.gc-lb-nav:hover{ transform: translateY(-50%) scale(1.06); background: rgba(255,255,255,.22); }
.gc-lb-prev{ left: calc(var(--gc-lb-pad-x)); }
.gc-lb-next{ right: calc(var(--gc-lb-pad-x)); }

/* Caption with bottom safe-area */
.gc-lb-caption{
  color:#d1d5db; text-align:center; font-size:.95rem;
  padding: 8px calc(var(--gc-lb-pad-x) + env(safe-area-inset-right))
           calc(10px + env(safe-area-inset-bottom))
           calc(var(--gc-lb-pad-x) + env(safe-area-inset-left));
  line-height:1.4; z-index: 2;
}

/* ---- Responsive tweaks ---- */
@media (max-width: 1023.98px){
  .gc-arrow { width: 40px; height: 40px; }
  .gc-prev { left: -20px; }
  .gc-next { right: -20px; }
  .gc-lb-nav{ width:44px; height:44px; }
}

/* ==== MOBILE-ONLY: full-width image, no side padding, perfect fit ==== */
@media (max-width: 639.98px){
  /* keep carousel arrows half-out on phones (unchanged) */
  .gc-arrow { width: 38px; height: 38px; }
  .gc-prev { left: -19px; }
  .gc-next { right: -19px; }

  /* lightbox: remove side padding so image can be 100% viewport width */
  .gc-lb-stage{
    padding: 10px 0;                /* no left/right padding */
  }

  /* make the image truly full-width and fully visible */
  .gc-lb-image{
    width: 100vw;
    max-width: 100vw;
    height: auto;
    /*  topbar (~56px) + caption (~56px) + stage vertical padding (2*10) */
    max-height: calc(100dvh - 56px - 56px - 20px);
    object-fit: contain;
    border-radius: 0;               /* avoid clipping on tiny screens */
    margin: 0;
  }
  @supports not (height: 100dvh){
    .gc-lb-image{
      max-height: calc(100vh - 56px - 56px - 20px);
    }
  }

  /* compact UI but keep content edge-to-edge for the image */
  .gc-lb-topbar{
    padding: 10px 10px 6px 10px;
  }
  .gc-lb-caption{
    padding: 8px 10px 12px 10px;
    font-size: .95rem;
    line-height: 1.35;
  }

  /* arrows float above image without stealing width */
  .gc-lb-nav{ width: 42px; height: 42px; }
  .gc-lb-prev{ left: 8px; }
  .gc-lb-next{ right: 8px; }
}
